/*! For license information please see index.js.LICENSE.txt */
!function(t,e){if("object"===typeof exports&&"object"===typeof module)module.exports=e(require("@sendo/app"),require("@sendo/storage"),require("@sendo/utils"),require("react"));else if("function"===typeof define&&define.amd)define(["@sendo/app","@sendo/storage","@sendo/utils","react"],e);else{var r="object"===typeof exports?e(require("@sendo/app"),require("@sendo/storage"),require("@sendo/utils"),require("react")):e(t["@sendo/app"],t["@sendo/storage"],t["@sendo/utils"],t.react);for(var n in r)("object"===typeof exports?exports:t)[n]=r[n]}}(globalThis,((t,e,r,n)=>(()=>{var o={8285:(t,e,r)=>{var n=r(3631)(r(8298),"DataView");t.exports=n},6174:(t,e,r)=>{var n=r(519),o=r(2238),a=r(367),s=r(1698),i=r(2698);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=i,t.exports=u},6283:(t,e,r)=>{var n=r(9682),o=r(2047),a=r(5606),s=r(7701),i=r(8953);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=i,t.exports=u},6402:(t,e,r)=>{var n=r(3631)(r(8298),"Map");t.exports=n},6506:(t,e,r)=>{var n=r(8604),o=r(7239),a=r(2668),s=r(7846),i=r(2008);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=i,t.exports=u},4122:(t,e,r)=>{var n=r(3631)(r(8298),"Promise");t.exports=n},3402:(t,e,r)=>{var n=r(3631)(r(8298),"Set");t.exports=n},5516:(t,e,r)=>{var n=r(6506),o=r(2709),a=r(5729);function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=a,t.exports=s},4512:(t,e,r)=>{var n=r(6283),o=r(6433),a=r(2359),s=r(4774),i=r(4589),u=r(4972);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=s,c.prototype.has=i,c.prototype.set=u,t.exports=c},2482:(t,e,r)=>{var n=r(8298).Symbol;t.exports=n},5277:(t,e,r)=>{var n=r(8298).Uint8Array;t.exports=n},5433:(t,e,r)=>{var n=r(3631)(r(8298),"WeakMap");t.exports=n},5873:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},6893:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[o++]=s)}return a}},4863:(t,e,r)=>{var n=r(5405),o=r(2570),a=r(5877),s=r(1308),i=r(6645),u=r(2197),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),p=!r&&o(t),f=!r&&!p&&s(t),l=!r&&!p&&!f&&u(t),v=r||p||f||l,d=v?n(t.length,String):[],h=d.length;for(var y in t)!e&&!c.call(t,y)||v&&("length"==y||f&&("offset"==y||"parent"==y)||l&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||i(y,h))||d.push(y);return d}},1765:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},6773:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},70:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},8083:(t,e,r)=>{var n=r(1046);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},2616:(t,e,r)=>{var n=r(4438),o=r(9855)(n);t.exports=o},8333:(t,e,r)=>{var n=r(2371)();t.exports=n},4438:(t,e,r)=>{var n=r(8333),o=r(5482);t.exports=function(t,e){return t&&n(t,e,o)}},8753:(t,e,r)=>{var n=r(3948),o=r(8722);t.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[o(e[r++])];return r&&r==a?t:void 0}},1460:(t,e,r)=>{var n=r(6773),o=r(5877);t.exports=function(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}},8329:(t,e,r)=>{var n=r(2482),o=r(9961),a=r(3149),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):a(t)}},7230:(t,e,r)=>{var n=r(8329),o=r(5009);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},6408:(t,e,r)=>{var n=r(8865),o=r(5009);t.exports=function t(e,r,a,s,i){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!==e&&r!==r:n(e,r,a,s,t,i))}},8865:(t,e,r)=>{var n=r(4512),o=r(6828),a=r(1982),s=r(9731),i=r(116),u=r(5877),c=r(1308),p=r(2197),f="[object Arguments]",l="[object Array]",v="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,h,y,_){var b=u(t),x=u(e),g=b?l:i(t),j=x?l:i(e),m=(g=g==f?v:g)==v,w=(j=j==f?v:j)==v,O=g==j;if(O&&c(t)){if(!c(e))return!1;b=!0,m=!1}if(O&&!m)return _||(_=new n),b||p(t)?o(t,e,r,h,y,_):a(t,e,g,r,h,y,_);if(!(1&r)){var S=m&&d.call(t,"__wrapped__"),A=w&&d.call(e,"__wrapped__");if(S||A){var z=S?t.value():t,P=A?e.value():e;return _||(_=new n),y(z,P,r,h,_)}}return!!O&&(_||(_=new n),s(t,e,r,h,y,_))}},865:(t,e,r)=>{var n=r(8842),o=r(2850),a=r(2015),s=r(6257),i=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,p=u.toString,f=c.hasOwnProperty,l=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(n(t)?l:i).test(s(t))}},5860:(t,e,r)=>{var n=r(8329),o=r(9294),a=r(5009),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!s[n(t)]}},9213:(t,e,r)=>{var n=r(4123),o=r(5154),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},5405:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},7761:(t,e,r)=>{var n=r(2482),o=r(1765),a=r(5877),s=r(3895),i=n?n.prototype:void 0,u=i?i.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return o(e,t)+"";if(s(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},7520:t=>{t.exports=function(t){return function(e){return t(e)}}},3630:t=>{t.exports=function(t,e){return t.has(e)}},6290:(t,e,r)=>{var n=r(9869);t.exports=function(t){return"function"==typeof t?t:n}},3948:(t,e,r)=>{var n=r(5877),o=r(4040),a=r(2712),s=r(4633);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:a(s(t))}},9696:(t,e,r)=>{var n=r(8298)["__core-js_shared__"];t.exports=n},9855:(t,e,r)=>{var n=r(9477);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&!1!==o(i[s],s,i););return r}}},2371:t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,a=Object(e),s=n(e),i=s.length;i--;){var u=s[t?i:++o];if(!1===r(a[u],u,a))break}return e}}},6828:(t,e,r)=>{var n=r(5516),o=r(70),a=r(3630);t.exports=function(t,e,r,s,i,u){var c=1&r,p=t.length,f=e.length;if(p!=f&&!(c&&f>p))return!1;var l=u.get(t),v=u.get(e);if(l&&v)return l==e&&v==t;var d=-1,h=!0,y=2&r?new n:void 0;for(u.set(t,e),u.set(e,t);++d<p;){var _=t[d],b=e[d];if(s)var x=c?s(b,_,d,e,t,u):s(_,b,d,t,e,u);if(void 0!==x){if(x)continue;h=!1;break}if(y){if(!o(e,(function(t,e){if(!a(y,e)&&(_===t||i(_,t,r,s,u)))return y.push(e)}))){h=!1;break}}else if(_!==b&&!i(_,b,r,s,u)){h=!1;break}}return u.delete(t),u.delete(e),h}},1982:(t,e,r)=>{var n=r(2482),o=r(5277),a=r(1046),s=r(6828),i=r(4515),u=r(4969),c=n?n.prototype:void 0,p=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,f,l){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=i;case"[object Set]":var d=1&n;if(v||(v=u),t.size!=e.size&&!d)return!1;var h=l.get(t);if(h)return h==e;n|=2,l.set(t,e);var y=s(v(t),v(e),n,c,f,l);return l.delete(t),y;case"[object Symbol]":if(p)return p.call(t)==p.call(e)}return!1}},9731:(t,e,r)=>{var n=r(8118),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,a,s,i){var u=1&r,c=n(t),p=c.length;if(p!=n(e).length&&!u)return!1;for(var f=p;f--;){var l=c[f];if(!(u?l in e:o.call(e,l)))return!1}var v=i.get(t),d=i.get(e);if(v&&d)return v==e&&d==t;var h=!0;i.set(t,e),i.set(e,t);for(var y=u;++f<p;){var _=t[l=c[f]],b=e[l];if(a)var x=u?a(b,_,l,e,t,i):a(_,b,l,t,e,i);if(!(void 0===x?_===b||s(_,b,r,a,i):x)){h=!1;break}y||(y="constructor"==l)}if(h&&!y){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(h=!1)}return i.delete(t),i.delete(e),h}},3476:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8118:(t,e,r)=>{var n=r(1460),o=r(9939),a=r(5482);t.exports=function(t){return n(t,a,o)}},2541:(t,e,r)=>{var n=r(4248);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},3631:(t,e,r)=>{var n=r(865),o=r(9958);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},9961:(t,e,r)=>{var n=r(2482),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,i=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,i),r=t[i];try{t[i]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[i]=r:delete t[i]),o}},9939:(t,e,r)=>{var n=r(6893),o=r(4157),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(t){return null==t?[]:(t=Object(t),n(s(t),(function(e){return a.call(t,e)})))}:o;t.exports=i},116:(t,e,r)=>{var n=r(8285),o=r(6402),a=r(4122),s=r(3402),i=r(5433),u=r(8329),c=r(6257),p="[object Map]",f="[object Promise]",l="[object Set]",v="[object WeakMap]",d="[object DataView]",h=c(n),y=c(o),_=c(a),b=c(s),x=c(i),g=u;(n&&g(new n(new ArrayBuffer(1)))!=d||o&&g(new o)!=p||a&&g(a.resolve())!=f||s&&g(new s)!=l||i&&g(new i)!=v)&&(g=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case h:return d;case y:return p;case _:return f;case b:return l;case x:return v}return e}),t.exports=g},9958:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},519:(t,e,r)=>{var n=r(3141);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},2238:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},367:(t,e,r)=>{var n=r(3141),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1698:(t,e,r)=>{var n=r(3141),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},2698:(t,e,r)=>{var n=r(3141);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},6645:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},4040:(t,e,r)=>{var n=r(5877),o=r(3895),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}},4248:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},2850:(t,e,r)=>{var n=r(9696),o=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},4123:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9682:t=>{t.exports=function(){this.__data__=[],this.size=0}},2047:(t,e,r)=>{var n=r(8083),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},5606:(t,e,r)=>{var n=r(8083);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7701:(t,e,r)=>{var n=r(8083);t.exports=function(t){return n(this.__data__,t)>-1}},8953:(t,e,r)=>{var n=r(8083);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},8604:(t,e,r)=>{var n=r(6174),o=r(6283),a=r(6402);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},7239:(t,e,r)=>{var n=r(2541);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},2668:(t,e,r)=>{var n=r(2541);t.exports=function(t){return n(this,t).get(t)}},7846:(t,e,r)=>{var n=r(2541);t.exports=function(t){return n(this,t).has(t)}},2008:(t,e,r)=>{var n=r(2541);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},4515:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},4672:(t,e,r)=>{var n=r(6858);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},3141:(t,e,r)=>{var n=r(3631)(Object,"create");t.exports=n},5154:(t,e,r)=>{var n=r(4801)(Object.keys,Object);t.exports=n},3377:(t,e,r)=>{t=r.nmd(t);var n=r(3476),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o&&n.process,i=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=i},3149:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},4801:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},8298:(t,e,r)=>{var n=r(3476),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();t.exports=a},2709:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},5729:t=>{t.exports=function(t){return this.__data__.has(t)}},4969:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},6433:(t,e,r)=>{var n=r(6283);t.exports=function(){this.__data__=new n,this.size=0}},2359:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},4774:t=>{t.exports=function(t){return this.__data__.get(t)}},4589:t=>{t.exports=function(t){return this.__data__.has(t)}},4972:(t,e,r)=>{var n=r(6283),o=r(6402),a=r(6506);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(t,e),this.size=r.size,this}},2712:(t,e,r)=>{var n=r(4672),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)})),e}));t.exports=s},8722:(t,e,r)=>{var n=r(3895);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},6257:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},1046:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},6131:(t,e,r)=>{var n=r(5873),o=r(2616),a=r(6290),s=r(5877);t.exports=function(t,e){return(s(t)?n:o)(t,a(e))}},3650:(t,e,r)=>{var n=r(8753);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},9869:t=>{t.exports=function(t){return t}},2570:(t,e,r)=>{var n=r(7230),o=r(5009),a=Object.prototype,s=a.hasOwnProperty,i=a.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&s.call(t,"callee")&&!i.call(t,"callee")};t.exports=u},5877:t=>{var e=Array.isArray;t.exports=e},9477:(t,e,r)=>{var n=r(8842),o=r(9294);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},1308:(t,e,r)=>{t=r.nmd(t);var n=r(8298),o=r(458),a=e&&!e.nodeType&&e,s=a&&t&&!t.nodeType&&t,i=s&&s.exports===a?n.Buffer:void 0,u=(i?i.isBuffer:void 0)||o;t.exports=u},3951:(t,e,r)=>{var n=r(6408);t.exports=function(t,e){return n(t,e)}},8842:(t,e,r)=>{var n=r(8329),o=r(2015);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},9294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},2015:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5009:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3895:(t,e,r)=>{var n=r(8329),o=r(5009);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},2197:(t,e,r)=>{var n=r(5860),o=r(7520),a=r(3377),s=a&&a.isTypedArray,i=s?o(s):n;t.exports=i},5482:(t,e,r)=>{var n=r(4863),o=r(9213),a=r(9477);t.exports=function(t){return a(t)?n(t):o(t)}},6858:(t,e,r)=>{var n=r(6506);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var s=t.apply(this,n);return r.cache=a.set(o,s)||a,s};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},4157:t=>{t.exports=function(){return[]}},458:t=>{t.exports=function(){return!1}},4633:(t,e,r)=>{var n=r(7761);t.exports=function(t){return null==t?"":n(t)}},1859:(t,e,r)=>{"use strict";var n=r(8156),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,r){var n,a={},c=null,p=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(p=e.ref),e)s.call(e,n)&&!u.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===a[n]&&(a[n]=e[n]);return{$$typeof:o,type:t,key:c,ref:p,props:a,_owner:i.current}}e.jsx=c,e.jsxs=c},8024:(t,e,r)=>{"use strict";t.exports=r(1859)},3435:e=>{"use strict";e.exports=t},3939:t=>{"use strict";t.exports=e},2171:t=>{"use strict";t.exports=r},8156:t=>{"use strict";t.exports=n}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var r=a[t]={id:t,loaded:!1,exports:{}},n=!0;try{o[t](r,r.exports,s),n=!1}finally{n&&delete a[t]}return r.loaded=!0,r.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i={};return(()=>{"use strict";s.r(i),s.d(i,{default:()=>m});var t=s(3435),e=s(3650),r=s.n(e),n=s(3951),o=s.n(n),a=s(3939),u=s(2171);class c extends a.Service{async query(t){const{domain:e,query:r}=Object.assign({domain:"https://api.sendo.vn",query:`/affiliate/external/provider/verify?${u.qs.stringify({provider_code:t.providerCode})}`},t);return{url:new URL(r,e).href,options:{method:"GET"}}}}const p=new a.Fetcher({id:"AffiliateInfo",service:new c,uri:t=>r()(t,["providerCode"])||"_"},{success:async function(t){return r()(t,["data"])||{}},error:async function(t){return{error:t}}}),f=p.createHook(((t,e,r)=>{if(!t.providerCode)return!1;const n=r.get("is")(a.FetchStates.INITIAL),s=!o()(t,e);return n||s})),l=(p.createComponent(),p.createGetterHook(),p.createFetcherHook(),p.createGetterComponent(),p.createFetcherComponent(),{verifyAffiliate:p.export()});var v=s(8024),d=s(8156),h=s(6131),y=s.n(h);function _(t){return new Date(Date.now()+1e3*t)}function b(t){let{fbclid:e,gclid:r,timestamp:n,utmCampaign:o,utmContent:a,utmMedium:s,utmSource:i,utmTerm:u}=t;return`${n}.${function(t){let e="";return y()(t,((t,r)=>{void 0!==t&&(e+=""===e?`${r}=${t}`:`|${r}=${t}`)})),e}({utmcsr:i,utmccn:o,utmcmd:s||"",utmctr:u||"",utmcct:a||"",gclid:r,fbclid:e})}`}const x=function(){const e=(0,t.usePage)(),[n,o]=(0,t.useCookies)(),a=(0,d.useMemo)((()=>u.qs.parse(r()(e,"search").replace("?",""))),[e]);return(0,d.useEffect)((()=>{const{fbclid:t,gclid:e,utm_campaign:r,utm_content:s,utm_medium:i,utm_source:u,utm_term:c}=a||{};let p,f="";const l=n._strs;if(l){p=l.split(".")[0]}else p=((new Date).getTime()/1e3).toFixed(0);if(u&&r){f=b({timestamp:p,...{utmSource:u,utmCampaign:r,utmMedium:i,utmTerm:c,utmContent:s,gclid:e,fbclid:t}})}f&&o("_strs",f,{domain:"sendo.vn",expires:_(60480),sameSite:"none",secure:!0,path:"/"})}),[n._strs,a,o]),null};const g=function(){const e=(0,t.usePage)(),[,n]=(0,t.useCookies)(),o=(0,d.useMemo)((()=>u.qs.parse(r()(e,"search").replace("?",""))),[e]),s=(0,d.useMemo)((()=>o.utm_source?{providerCode:o.utm_source}:{}),[o]),i=f(s);return(0,d.useEffect)((()=>{if(i.toJS().is(a.FetchStates.SUCCESSED)){var t;const e=null!==(t=o.traffic_id)&&void 0!==t?t:"",a=r()(i.toJS(),["value","provider_code"]),s=window.location.hostname.replace(/\./g,"_");n("aff_last_click",`Affiliate|${a}|${s}|${e}`,{expires:_(r()(i.toJS(),["value","expire_time_web"])),domain:".sendo.vn",path:"/",sameSite:"none",secure:!0})}}),[i,n,o]),null};const j=function(){return(0,v.jsxs)(t.IfMode,{server:!1,client:!0,children:[(0,v.jsx)(g,{}),(0,v.jsx)(x,{})]})},m=(0,t.declareModule)({details:{id:"@sendo-buyers/marketing-utils",version:"0.277.0",platform:"hybrid"},data:l,component:j})})(),i})()));
//# sourceMappingURL=https://web-static.scdn.vn/sendo-buyers-marketing-utils/47ddffad-web/index.js.map